<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "";
    var thisFile = "README.md";
    var defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#metalsmith-debug-ui">metalsmith-debug-ui</a>
      </div>

      <div class="heading h2">
        <a href="#install">install</a>
      </div>

      <div class="heading h2">
        <a href="#usage">usage</a>
      </div>

      <div class="heading h3">
        <a href="#patch-mode">patch mode</a>
      </div>

      <div class="heading h3">
        <a href="#report-mode">report mode</a>
      </div>

      <div class="heading h3">
        <a href="#viewing-output">viewing output</a>
      </div>

      <div class="heading h3">
        <a href="#errors-during-build">errors during build</a>
      </div>

      <div class="heading h3">
        <a href="#anonymous-plugins">anonymous plugins</a>
      </div>

      <div class="heading h2">
        <a href="#demo">demo</a>
      </div>

      <div class="heading h2">
        <a href="#options">options</a>
      </div>

      <div class="heading h2">
        <a href="#plugin-compatibility">plugin compatibility</a>
      </div>

      <div class="heading h2">
        <a href="#testing">testing</a>
      </div>

      <div class="heading h2">
        <a href="#building">building</a>
      </div>

      <div class="heading h2">
        <a href="#author">Author</a>
      </div>

      <div class="heading h2">
        <a href="#contributing">Contributing</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="metalsmith-debug-ui">
  <h1>
    <a href="#metalsmith-debug-ui" name="metalsmith-debug-ui" class="pilcrow"></a>
metalsmith-debug-ui
  </h1>
</div>
<p><img src="https://nodei.co/npm/metalsmith-debug-ui.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="nodei.co"></p>
<p><img src="https://img.shields.io/npm/v/metalsmith-debug-ui.svg" alt="npm"> <img src="https://img.shields.io/github/issues/leviwheatcroft/metalsmith-debug-ui.svg" alt="github-issues"> <img src="https://img.shields.io/github/stars/leviwheatcroft/metalsmith-debug-ui.svg" alt="stars"> <img src="https://img.shields.io/github/forks/leviwheatcroft/metalsmith-debug-ui.svg" alt="forks"></p>
<p>Browser based debug interface for <a href="https://metalsmith.io">metalsmith</a></p>
<p>Provides nice ui to navigate metalsmith files and metadata, allowing you to view any stage of the build process</p>
<p>Features:</p>
<ul>
<li>nice ui for exploring files &amp; metadata</li>
<li>can jump forwards and backwards through the build process</li>
<li>cool react based client</li>
</ul>
<p><img src="http://leviwheatcroft.github.io/metalsmith-debug-ui/images/files.png" alt="files interface">
<img src="http://leviwheatcroft.github.io/metalsmith-debug-ui/images/log.png" alt="log interface"></p>
<p>See the <a href="https://leviwheatcroft.github.io/metalsmith-debug-ui" title="annotated source">annotated source</a> or <a href="https://github.com/leviwheatcroft/metalsmith-debug-ui" title="github repo">github repo</a></p>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
install
  </h2>
</div>
<p><code>npm i --save metalsmith-debug-ui</code></p>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
usage
  </h2>
</div>
<p><code>metalsmith-debug-ui</code> clones your metalsmith files and metadata strutures at
different times during the build process and stores this history. Then it
injects a browser based client into your build output which allows you to view
that history.</p>
<div class="pilwrap" id="patch-mode">
  <h3>
    <a href="#patch-mode" name="patch-mode" class="pilcrow"></a>
patch mode
  </h3>
</div>
<p>This will report after every plugin. You need to patch your metalsmith instance.</p>
<pre><code class="javascript"><span class="hljs-keyword">import</span> Metalsmith <span class="hljs-keyword">from</span> <span class="hljs-string">'metalsmith'</span>
<span class="hljs-keyword">import</span> { patch } <span class="hljs-keyword">from</span> <span class="hljs-string">'metalsmith-debug-ui'</span>

<span class="hljs-keyword">let</span> ms = Metalsmith(<span class="hljs-string">'src'</span>)

patch(ms)

ms
.use(...)
.build(...)
</code></pre>
<div class="pilwrap" id="report-mode">
  <h3>
    <a href="#report-mode" name="report-mode" class="pilcrow"></a>
report mode
  </h3>
</div>
<p>Just call <code>report</code> as a plugin</p>
<pre><code class="javascript"><span class="hljs-keyword">import</span> Metalsmith <span class="hljs-keyword">from</span> <span class="hljs-string">'metalsmith'</span>
<span class="hljs-keyword">import</span> { report } <span class="hljs-keyword">from</span> <span class="hljs-string">'metalsmith-debug-ui'</span>

<span class="hljs-keyword">let</span> ms = Metalsmith(<span class="hljs-string">'src'</span>) <span class="hljs-comment">// no need to patch</span>

ms
.use(myFirstPlugin({...}))
.use(mySecondPlugin({...}))
.use(report(<span class="hljs-string">'stage 1'</span>))
.use(myFirstPlugin({...}))
.use(report(<span class="hljs-string">'stage 2'</span>))
.build(...)
</code></pre>
<div class="pilwrap" id="viewing-output">
  <h3>
    <a href="#viewing-output" name="viewing-output" class="pilcrow"></a>
viewing output
  </h3>
</div>
<p>The client should be built with the rest of your site, and will be located at <code>debug-ui/index.html</code> in your build directory. You should use your favourite static development server to view it in the same way you would view anything else in your build directory.</p>
<div class="pilwrap" id="errors-during-build">
  <h3>
    <a href="#errors-during-build" name="errors-during-build" class="pilcrow"></a>
errors during build
  </h3>
</div>
<p>When a plugin throws an error metalsmith will just die as per normal behaviour, but the data debug-ui has collected will still be written to the build dir.</p>
<p>The only problem is that if you're using a dev server like <code>metalsmith-dev-server</code> you won't be able to view the ui to see what went wrong. I recommend implementing <a href="https://www.browsersync.io/">browser-sync</a> or something instead.</p>
<div class="pilwrap" id="anonymous-plugins">
  <h3>
    <a href="#anonymous-plugins" name="anonymous-plugins" class="pilcrow"></a>
anonymous plugins
  </h3>
</div>
<p>It's difficult to reliably detect the names of plugins in order to report them in the ui. debug-ui first tries to sniff the plugin name from a stack trace, if that fails it checks whether the plugin returns a named function, and if that fails it will simply list the plugin as <code>anonymous</code>.</p>
<p>In most cases this is satisfactory. If something is reported as anonymous you can easily work out what it is by looking at the plugins before and after it.</p>
<div class="pilwrap" id="demo">
  <h2>
    <a href="#demo" name="demo" class="pilcrow"></a>
demo
  </h2>
</div>
<p>see <a href="https://github.com/leviwheatcroft/metalsmith-all-the-things">metalsmith-all-the-things</a> for a full working
demo.</p>
<div class="pilwrap" id="options">
  <h2>
    <a href="#options" name="options" class="pilcrow"></a>
options
  </h2>
</div>
<p>nil</p>
<div class="pilwrap" id="plugin-compatibility">
  <h2>
    <a href="#plugin-compatibility" name="plugin-compatibility" class="pilcrow"></a>
plugin compatibility
  </h2>
</div>
<p>Some plugins may not write to the <code>debug-ui</code> log, although I haven't found any
yet. In theory any plugins using <code>debug v2.x.x</code> should work. If you find one
please post an issue.</p>
<div class="pilwrap" id="testing">
  <h2>
    <a href="#testing" name="testing" class="pilcrow"></a>
testing
  </h2>
</div>
<p>nil.</p>
<div class="pilwrap" id="building">
  <h2>
    <a href="#building" name="building" class="pilcrow"></a>
building
  </h2>
</div>
<p>Deprecation warning re: parseQuery is from upstream package. Don't worry about
it.</p>
<p><code>npm run watch</code></p>
<div class="pilwrap" id="author">
  <h2>
    <a href="#author" name="author" class="pilcrow"></a>
Author
  </h2>
</div>
<p>Levi Wheatcroft <a href="mailto:levi@wht.cr.html">levi@wht.cr</a></p>
<div class="pilwrap" id="contributing">
  <h2>
    <a href="#contributing" name="contributing" class="pilcrow"></a>
Contributing
  </h2>
</div>
<p>Contributions welcome; Please submit all pull requests against the master
branch.</p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p><strong>MIT</strong> : http://opensource.org/licenses/MIT</p>
</div>
  </div>
</body>
</html>
